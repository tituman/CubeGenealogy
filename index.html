<!doctype html>


<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">

</head>
<body>

 
  <div style="right: 100px; border: 1px ; height: 300px; position: fixed; width: 164px; overflow: hidden; top: 10px; display: none" id="theDivDescription">

    <div style="overflow: hidden;">
    </div>
    <iframe 
	id="theDescription" 
	scrolling="yes" 
	style="height: 300px; border: 1px; width: 165px; margin-top: 1px; margin-right: 1px; background-color : white;" 
	>
    </iframe>
    </div>
    </div>


<div class="mermaid">
graph TD
subgraph OG-Cube
OG --> B+
OG --> PE
OG --> KSSS
OG --> GT
GT --> GT_subgroup
B+ --> TW
PE --> TW
PE --> Melmak
end


</div>
<div class="mermaid">
graph TD

subgraph GT-family
*KSSS --> Albino_KSAT
*GT --> Wombat_TAT
*GT --> Mr_Krinkle
*GT --> Yimir
*GT --> OG_TAT_subgroup
*GT --> Leng
Wombat_TAT --> Albino_KSAT
Albino_KSAT --> Golden_KSAT
Mr_Krinkle --> Choco_Krinkle
Mr_Krinkle --> CK_Brains
Wombat_TAT --> Jack_Frost
Leng --> Ground_Zero
end

</div>
<div class="mermaid">
graph TD

subgraph OG-TAT-family
*GT --> OG_TAT
OG_TAT --> RR
OG_TAT --> Yeti
OG_TAT --> Clockwerk_TAT
OG_TAT --> NST
OG_TAT --> Ghost
OG_TAT --> Riptide
*TW --> Riptide
Yeti --> Yeti2
Yeti --> Nutcracker
Clockwerk_TAT --> Colckwerk_Orange
Ghost --> TAT_Black_Cap
Riptide --> A_Riptide
Yeti2 --> Deep_End
TAT_Black_Cap --> Harlequin
TAT_Black_Cap --> Toad_Black_Cap
OG_TAT --> Toad
Toad --> Toad_Black_Cap
end	

</div>
<div class="mermaid">
graph TD

subgraph TAM-family
*OG_TAT-->TAM
*Melmak-->TAM
TAM --> XXX
TAM --> Pearly_Gates
TAM --> Gandalf
TAM --> Eye_Like
TAM --> End_Game
TAM --> Blue_Moon
TAM --> MVP
MVP --> AMVP
end



</div>

  
  <!--


    <script src="index.bundle.js" charset="utf-8"></script>

 <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.2.4/mermaid.js" integrity="sha512-y0QwbvLV+Z/W7SireHwX4fBY1F8N2gNn5MoIXcK94RmGGh3QJEgflg5xKIzOaIiHWs7rjCk9V4+S9lkWIjizdw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  -->     
   
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.js"></script>
<script src="strainDB.js"></script>
   
   <script>
   
   
	var descVisible = false;
	var theDivDescription = document.getElementById('theDivDescription');
    var callback = function(nodename){
		var clickableclasses = document.getElementsByClassName('clickable');
		//var nodeFound;
		var iframe = document.getElementById("theDescription");
		var html = "";
		if (!descVisible){
		for (let item of clickableclasses) {

			//console.log(item.lastChild.textContent);
			//let theDiv = document.createElement("div");
			//theDiv.append("Some text");
			//theDiv.classList.add("popup");	
			//let theSpan = document.createElement("span");
			//theSpan.classList.add("popuptext");
			//theSpan.id = ("descof"+item.lastChild.textContent);
			//theSpan.innerHTML="This is my span";
			//theDiv.append(theSpan);
			//item.append(theDiv);
				if (item.id.includes(nodename)) {
					//nodeFound = item;
					//console.log(nodeFound.getAttribute('title'));
					//console.log(item.id);
					//alternative
					html = '<body>'+item.getAttribute('title')+'</body>';
					iframe.src = 'data:text/html;charset=utf-8,' + encodeURI(html);
					descVisible = true;
					//document.body.appendChild(iframe);
					//console.log('iframe.contentWindow =', iframe.contentWindow);
					document.getElementById('theDivDescription').style.display = "block";
					break;
				}
		}
		}
		else {
			html = "";
			iframe.src = 'data:text/html;charset=utf-8,' + encodeURI(html);
			descVisible = false;
			theDivDescription.style.display = "none";
		}
		
		
		
		//filledOutNodes = true;

		//var popup = document.getElementById("descof"+nodename);
		//console.log(popup);
		//popup.classList.toggle("show");		

		
        //alert(nodeclasses);
		//showTootltip();
    }

    var config = {
        startOnLoad:true,
        flowchart:{
            useMaxWidth:true,
            htmlLabels:true,
            //curve:'cardinal',
        },
        securityLevel:'loose',
		'theme' : 'dark'
    };

    mermaid.initialize(config);
	window.onload = function (){

		var allNodes = document.getElementsByClassName('node');
	//console.log(allNodes[0].click);
	//var elem = allNodes.item(1);
		for (let elem of allNodes) {
			let sname = elem.textContent.replace('\*','');
			console.log(sname);
		  if (elem !== null) {
			elem.classList.remove("default");
			elem.classList.add("clickable");
			elem.setAttribute('title', strainDB[sname]);
			elem.addEventListener(
			  'click',
			  function (){
				callback(elem.textContent);
			  },
			  false
			);
			//console.log(strainDB["GT"]);
			//for (const key of Object.keys(strainDB)) {
		//console.log(key + ":" + strainDB[key]);
		//;
			//}
		  }
		}
	}
//--></script>


	





</body>

</html>
